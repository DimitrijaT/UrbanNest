{% extends "dashboard/base-dashboard.html" %}

{% block content %}

<div class="container my-5">
    <div class="d-flex justify-content-between"><h3><strong>Offers</strong></h3></div>
    <div class="table-responsive">
        <table class="table table-hover">
            <thead>
            <tr>
                <th scope="col">Image</th>
                <th scope="col">Product</th>
                <th scope="col">Buyer</th>
                <th scope="col">Status</th>
                <th scope="col">Date</th>
                <th scope="col" class="text-center">Actions</th>
            </tr>
            </thead>
            <tbody>
            {% for offer in offers %}
            <tr>
                <td><img src="{{offer.furniture.image.url}}" alt="" width="100px" class="rounded shadow-sm"></td>
                <td class="align-middle">{{offer.furniture.name}}</td>
                <td class="align-middle">{{offer.buyer.first_name}} {{offer.buyer.last_name}}</td>
                <td class="align-middle">{{offer.status}}</td>
                <td class="align-middle">{{offer.creation_date}}</td>
                {% if offer.status == 'PE' %}
                <td class="align-middle">
                    <div class="d-flex justify-content-around">
                        <a href="{% url 'offer_accept' product_id=offer.pk %}"><i
                                class='far fa-check-square text-success' style='font-size:36px'></i></a>
                        <a href="{% url 'offer_decline' product_id=offer.pk %}"><i
                                class='far fa-minus-square text-danger' style='font-size:36px'></i></a>
                    </div>
                </td>
                {% elif offer.status == 'AC' %}
                <td class="align-middle text-center">
                    ACCEPTED
                </td>
                {% elif offer.status == 'RE' %}
                <td class="align-middle text-center">REJECTED
                </td>
                {% endif %}
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% endblock %}
